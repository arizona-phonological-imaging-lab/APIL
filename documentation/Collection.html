<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="UTF-8">
    <title>Autotrace - Arizona Phonological Imaging Lab</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" type="text/css" href="stylesheets/normalize.css" media="screen">
    <link href='http://fonts.googleapis.com/css?family=Open+Sans:400,700' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/github-light.css" media="screen">
  </head>
  <body>
    <section class="page-header">
      <h1 class="project-name">Autotrace</h1>
      <h2 class="project-tagline">Arizona Phonological Imaging Lab</h2>
      <a href="https://github.com/Trevortds/APIL" class="btn">View on GitHub</a>
      <a href="https://github.com/Trevortds/APIL/zipball/master" class="btn">Download .zip</a>
      <a href="https://github.com/Trevortds/APIL/tarball/master" class="btn">Download .tar.gz</a>
    </section>

    <section class="main-content">
      <h1>
<a id="apil" class="anchor" href="#apil" aria-hidden="true"><span class="octicon octicon-link"></span></a>AutoTrace</h1>

<h1 id="data-collection-using-the-ultrasound-with-the-kinect">Data Collection using the Ultrasound with the Kinect</h1>
<blockquote>
<p>This manual will show how to set up and collect data from a subject. The end result will be a folder for the individual subject that holds the ultrasound video, Kinect data and coordinates, stimulus list, as well as individual frames of the tongue images.</p>
</blockquote>
<h2 id="setting-up-the-hardware-before-the-subject-arrives-need-picture">Setting Up the Hardware Before the Subject Arrives: NEED PICTURE</h2>
<ul>
<li><p>Make sure the <em>ultrasound</em> is connected to the <em>lockbox</em></p>
</li>
<li><p>The <em>svideo</em> cable connects to the back of the ultrasound</p>
<blockquote>
<p>It is the cable that connects the <em>ultrasound</em> and the <em>lockbox</em></p>
<p>The <em>lockbox</em> has a label for this <em>svideo</em> cable</p>
<p>Important: if it is not connected, make sure the <em>ultrasound</em> is off before connecting, otherwise it may malfunction</p>
</blockquote>
</li>
<li><p><em>Microphone amplifier</em> should be connected to <em>computer</em></p>
<blockquote>
<p>It connects in the spot with the pink ring around it</p>
</blockquote>
</li>
<li><p>Make sure the <em>lockbox</em> is on</p>
<blockquote>
<p>There should be a blue light on the <em>lockbox</em> that shows that it is on</p>
</blockquote>
</li>
<li><p>If it does need to be turned on, press the <em>power button</em> on the <em>lockbox</em></p>
<blockquote>
<p>When you do this a box will pop up on the monitor which you should <strong>exit</strong> out of</p>
</blockquote>
</li>
</ul>
<h2 id="setting-up-the-ultrasound-software-with-the-kinect">Setting up the Ultrasound Software with the Kinect</h2>
<ul>
<li><p>Turn on the <em>ultrasound</em></p>
</li>
<li><p>There is a <em>power button</em> in the top left corner of the <em>ultrasound</em></p>
</li>
</ul>
<p>INCLUDE PICTURE</p>
<ul>
<li><p>Test the video feed of the <em>ultrasound</em></p>
</li>
<li><p>There should be a black screen on the <em>Titan</em> with white grain that shows the <em>ultrasound</em> is on and functioning</p>
</li>
<li><p>Make sure the <em>Kinect</em> is connected to the <em>computer</em></p>
<blockquote>
<p>The <em>USB cord</em> connects to the front of the <em>computer</em></p>
</blockquote>
</li>
<li><p>On the main monitor, locate the <strong>ultrasound icon</strong> and <em>double click</em> on it</p>
<blockquote>
<p>Two new windows should open, a <strong>Kinect</strong> window and an <strong>ultrasound</strong> window</p>
</blockquote>
</li>
<li><p>Move the <strong>Kinect</strong> window to the right of the <strong>ultrasound</strong> window</p>
</li>
<li><p>On the monitor, locate the <strong>stimulus display</strong> icon</p>
</li>
<li><p>Click <strong>stimuli.py</strong> and a new window should open</p>
</li>
<li><p>Close the <strong>explorer</strong> window</p>
<blockquote>
<p>The stimuli will be a group of words in any language that the subjects will be prompted with in a random order</p>
</blockquote>
</li>
<li><p>To determine how many times these words are repeated, you will be prompted with a screen asking to specify the number of repetitions</p>
<blockquote>
<p>These repetitions will repeat the same set of words in a different order each time</p>
</blockquote>
</li>
<li><p>Click <em>enter</em></p>
</li>
</ul>
<h2 id="creating-a-stim-list-need-directions">CREATING A STIM LIST-NEED DIRECTIONS</h2>
<ul>
<li><p>A new window will open that says <strong>click to begin</strong></p>
</li>
<li><p><em>Drag</em> the <strong>click to begin</strong> window onto the second monitor and resize to fit screen</p>
</li>
<li><p>Minimize this window so you can still see the other windows</p>
</li>
<li><p>In the <strong>ultrasound</strong> window, press <strong>preview</strong> to ensure the image feed from the <em>ultrasound</em> is correct</p>
</li>
</ul>
<h2 id="setting-up-subject">Setting up Subject</h2>
<ul>
<li><p>Sit subject comfortably in chair</p>
</li>
<li><p>Mount <em>microphone</em> over subject’s ear</p>
</li>
<li><p>Apply a small strip of ultrasound gel to the top of the <em>probe</em> and place directly under subject’s chin to get an image of the tongue and palate</p>
</li>
<li><p>Adjust fit of <em>probe</em> to subject</p>
</li>
<li><p>Adjust the depth on the <em>ultrasound</em> to make sure the tongue is displaying correctly</p>
</li>
</ul>
<p>NEED TIPS FOR THIS</p>
<blockquote>
<p>Note: if the video appears extremely zoomed in the best solution is to turn the <em>ultrasound</em> <em>on</em> and <em>off</em> again</p>
</blockquote>
<h2 id="naming-the-folder">Naming the folder</h2>
<ul>
<li><p>In the <strong>ultrasound</strong> window, there is a space entitled <strong>recording ID</strong></p>
</li>
<li><p>In the blank provided, include the study subject number, year, month, day, hour, and minute of the experiment in that order</p>
<blockquote>
<p>Use leading zeros in the case of single digit months</p>
<p>Note: try not to use window’s special characters</p>
<p>This creates a separate file that includes the subject number and demographic data that will contain all of the data collected</p>
</blockquote>
</li>
<li><p>Check the <em>Kinect</em> display</p>
</li>
<li><p>Make sure there are no obstructions in the way of the <em>Kinect</em></p>
</li>
<li><p>Make sure the <em>image feed</em> recognizes the head of the subject</p>
<blockquote>
<p>There should be a grid around the face of the subject as shown below</p>
</blockquote>
</li>
</ul>
<h2 id="collecting-data">Collecting Data</h2>
<ul>
<li><p>Press <strong>start</strong> on the <strong>ultrasound</strong> window to begin recording</p>
</li>
<li><p>The <strong>record button</strong> should turn red</p>
<blockquote>
<p>Note: once the recording is done it will turn grey</p>
</blockquote>
</li>
<li><p>Click on <strong>click to begin</strong> in the <strong>stimuli</strong> window</p>
</li>
<li><p>Instruct the subject to <em>click</em> through the stimuli as the subject reads the words out loud</p>
</li>
<li><p>Once the subject has read through all of the stimuli, the <strong>stimulus display</strong> window should close</p>
</li>
<li><p>Hit <strong>stop</strong> on the <strong>ultrasound</strong> window to end the recording</p>
<blockquote>
<p>Note: do not close this window it is very important that it stays open for post processing</p>
</blockquote>
</li>
<li><p>The <strong>Kinect</strong> window should close when you hit <strong>stop</strong></p>
</li>
</ul>
<h2 id="post-processing-and-saving-data">Post Processing and Saving Data</h2>
<ul>
<li><p>Post processing must be done to ensure that all of the proper data is recorded and gathered in the subject’s folder</p>
</li>
<li><p>After closing the <strong>Kinect</strong>, an icon entitled <strong>coords</strong> should appear on the <strong>desktop</strong></p>
</li>
<li><p>Drag the <strong>coords</strong> icon into the folder you created previously</p>
</li>
<li><p>In the top right of the <strong>ultrasound</strong> window click on the <strong>post processing</strong> tab</p>
</li>
<li><p>Click <strong>Run Post Processing</strong></p>
<blockquote>
<p>Note: this may take a while, so be patient</p>
</blockquote>
</li>
<li><p>A window will pop up that shows it is complete</p>
</li>
<li><p>Close out of this window by clicking <strong>ok</strong></p>
</li>
<li><p>Open <strong>Stimulus Display</strong> icon again</p>
</li>
<li><p>Drag the newly created <strong>stimulus<em>response.csv</em></strong> file into the subject’s folder that was created when you filled in the Subject ID</p>
<blockquote>
<p>This file contains the stimuli, subject information, repition number, and timestamp of when the subject clicked to start each stimuli</p>
</blockquote>
</li>
<li><p>Open <strong>Kinect Matching</strong> icon on desktop by <em>double-clicking</em></p>
</li>
<li><p>Select the appropriate files for the post processing</p>
</li>
<li><p>The <strong>Kinect Matching</strong> program opens with a window that allows you to select the folders that contain the frames, video, and Kinect video and then combines them into one document labeled <strong>output</strong></p>
<blockquote>
<p>Note: Double check with each file you open that they are coming from the correct folder</p>
</blockquote>
</li>
</ul>
<p>Can it default to the correct folder?</p>
<ul>
<li><p><strong>Frames</strong>: locate in the subject’s folder</p>
</li>
<li><p><strong>Video</strong>: locate the <strong>vidTimes</strong> section of the subject’s folder</p>
</li>
<li><p><strong>Kinect</strong>: locate the <strong>coords</strong> section of the subject’s folder</p>
</li>
<li><p><strong>Output</strong>: in the <strong>output file</strong> box, the <strong>output file</strong> will be automatically named output and placed in the same folder.</p>
<blockquote>
<p>If you want it to have another name, you can fill that name into this box</p>
</blockquote>
</li>
<li><p>Once you have located the four different parts of the folder, hit <strong>process file</strong></p>
</li>
<li><p>A window should pop up that says <strong>file ready</strong></p>
</li>
<li><p><em>Close</em> the <strong>Kinect Matching</strong> window</p>
</li>
<li><p><em>Open</em> the folder you created for the subject</p>
</li>
<li><p>A new file, entitled <strong>output</strong> should now be in the folder as well as the <strong>vidTimes, coords</strong>, and <strong>frames</strong> folders</p>
</li>
<li><p>Play the <strong>vidTimes</strong> video in order to make sure that it recorded properly</p>
<blockquote>
<p>Do this by <em>clicking</em> the on the <strong>vidTimes</strong> file within the subject’s folder</p>
</blockquote>
</li>
<li><p><em>Open</em> the <strong>output</strong> file to make sure that the post-processing worked correctly</p>
<blockquote>
<p>This should have timestamps, frame numbers, and coordinates of the locations of the subject’s head throughout the experiment as shown below</p>
</blockquote>
</li>
</ul>

 <footer class="site-footer">
        <span class="site-footer-owner"><a href="https://github.com/Trevortds/APIL">Apil</a> is maintained by <a href="https://github.com/Trevortds">Trevortds</a>.</span>

        <span class="site-footer-credits">This page was generated by <a href="https://pages.github.com">GitHub Pages</a> using the <a href="https://github.com/jasonlong/cayman-theme">Cayman theme</a> by <a href="https://twitter.com/jasonlong">Jason Long</a>.</span>
      </footer>

    </section>


</body></html>
